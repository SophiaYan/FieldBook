<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.grid path,
.grid line {
  fill: none;
  stroke: rgba(0, 0, 0, 0.25);
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.line {
  fill: none;
  stroke-width: 2.5px;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.js"></script>
<script>

var BigData = '{"Richland": {"soy": {"y": [27.0, 35.600000000000001, 36.399999999999999, 43.5, 51.899999999999999], "x": [2010.0, 2011.0, 2012.0, 2013.0, 2014.0], "label": "soy"}, "corn": {"y": [26.5, 128.30000000000001, 144.30000000000001, 147.69999999999999, 181.09999999999999], "x": [2010.0, 2011.0, 2012.0, 2013.0, 2014.0], "label": "corn"}, "wheat": {"y": [62.1, 63.6, 71.9, 64.9], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Shelby": {"soy": {"y": [55.4, 43.7, 46.1, 48.0, 56.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [162.9, 146.3, 72.4, 178.2, 206.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [62.0, 66.1, 76.1], "x": [2011, 2012, 2014], "label": "wheat"}}, "Union": {"soy": {"y": [32.8, 36.1, 30.5, 45.2], "x": [2010, 2011, 2012, 2013], "label": "soy"}, "corn": {"y": [114.3, 111.2, 53.3, 162.3, 185.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [50.1, 54.5], "x": [2013, 2014], "label": "wheat"}}, "Jo Daviess": {"soy": {"y": [55.1, 60.9, 35.5, 48.7, 55.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [176.9, 171.9, 97.4, 175.5, 183.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [72.8], "x": [2011], "label": "wheat"}}, "Montgomery": {"soy": {"y": [55.5, 44.2, 42.5, 49.0, 57.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [156.3, 138.6, 73.2, 182.9, 205.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [58.1, 58.1, 66.1, 74.3], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Wayne": {"soy": {"y": [44.2, 34.9, 27.1, 41.4, 51.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [138.8, 122.4, 39.7, 154.0, 184.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [53.2, 60.7, 65.9, 65.2], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Bureau": {"soy": {"y": [55.0, 58.1, 55.0, 55.2, 59.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [166.7, 177.3, 145.7, 185.9, 196.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.5], "x": [2010], "label": "wheat"}}, "Wabash": {"soy": {"y": [44.6, 45.6, 41.0, 45.8, 51.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [146.6, 140.6, 52.1, 161.5, 180.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.7, 57.8, 72.9, 61.0], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "White": {"soy": {"y": [46.0, 41.0, 36.7, 43.5, 49.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [155.4, 144.1, 69.2, 187.1, 196.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [68.8, 61.5, 67.1, 77.0, 58.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "La Salle": {"soy": {"y": [52.1, 59.3, 49.6, 54.4, 60.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [162.9, 177.3, 134.8, 186.8, 197.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [64.5, 82.4, 68.8], "x": [2010, 2012, 2013], "label": "wheat"}}, "Henderson": {"soy": {"y": [49.3, 55.3, 55.4, 50.8, 52.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [143.8, 159.5, 162.6, 176.0, 207.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [40.9], "x": [2010], "label": "wheat"}}, "Brown": {"soy": {"y": [48.1, 38.8, 37.4, 47.2, 51.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [119.5, 127.0, 87.0, 176.2, 196.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.9, 56.0, 51.4, 55.6], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Champaign": {"soy": {"y": [56.2, 51.6, 47.1, 52.6, 63.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [169.5, 164.1, 108.9, 168.1, 216.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [80.0], "x": [2014], "label": "wheat"}}, "Tazewell": {"soy": {"y": [58.1, 57.3, 51.5, 53.5, 61.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [163.4, 172.7, 133.4, 177.1, 224.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [66.1, 70.3, 59.0], "x": [2010, 2011, 2014], "label": "wheat"}}, "Mcdonough": {"soy": {"y": [53.4], "x": [2013], "label": "soy"}, "corn": {"y": [166.9, 187.8, 211.6], "x": [2011, 2013, 2014], "label": "corn"}}, "Du Page": {"soy": {"y": [41.7, 42.1], "x": [2011, 2012], "label": "soy"}}, "Mchenry": {"soy": {"y": [48.9], "x": [2013], "label": "soy"}, "corn": {"y": [175.7, 160.6, 184.3], "x": [2011, 2013, 2014], "label": "corn"}, "wheat": {"y": [71.0, 78.6, 86.4, 69.1, 71.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "De Witt": {"soy": {"y": [59.7, 56.0, 55.6, 63.5], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [161.1, 177.6, 134.4, 221.0], "x": [2010, 2011, 2012, 2014], "label": "corn"}}, "Hancock": {"soy": {"y": [49.5, 45.5, 48.7, 46.8, 52.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [116.9, 134.9, 134.3, 178.5, 218.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [37.9, 75.9, 55.8, 64.2], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Coles": {"soy": {"y": [58.0, 46.4, 44.3, 55.9, 60.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [167.0, 151.7, 89.3, 182.2, 212.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [63.1, 70.0, 55.3, 75.0], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Henry": {"soy": {"y": [56.6, 60.6, 50.9, 54.1, 57.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [158.8, 174.4, 140.0, 184.5, 194.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [76.6, 79.9, 61.0], "x": [2010, 2012, 2013], "label": "wheat"}}, "McDonough": {"soy": {"y": [53.1, 58.5, 50.0, 54.4], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [141.8, 139.0], "x": [2010, 2012], "label": "corn"}}, "Jersey": {"soy": {"y": [52.2, 46.7, 44.4, 51.3, 50.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [169.9, 149.1, 81.6, 182.9, 199.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [41.0, 54.4, 67.2, 67.1], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Mclean": {"soy": {"y": [56.5, 63.2], "x": [2013, 2014], "label": "soy"}, "corn": {"y": [159.6, 188.6, 218.3], "x": [2011, 2013, 2014], "label": "corn"}, "wheat": {"y": [69.9, 76.1, 57.0], "x": [2010, 2011, 2013], "label": "wheat"}}, "Washington": {"soy": {"y": [45.7, 31.2, 22.0, 36.0, 47.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [144.3, 120.2, 21.1, 160.6, 184.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [56.5, 64.4, 71.3, 77.0, 70.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Marion": {"soy": {"y": [47.3, 38.0, 27.7, 41.6, 50.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [149.7, 139.1, 19.0, 159.7, 183.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [61.4, 62.4, 69.8, 65.7], "x": [2010, 2011, 2012, 2014], "label": "wheat"}}, "Jasper": {"soy": {"y": [46.7, 41.9, 39.3, 40.2, 55.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [142.8, 146.0, 28.9, 151.0, 185.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [44.5, 64.6, 59.9, 63.7], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Ogle": {"soy": {"y": [56.6, 59.9, 50.8, 53.1, 60.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [183.4, 179.5, 142.9, 189.6, 193.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [70.6, 79.2, 75.8, 73.8], "x": [2010, 2011, 2013, 2014], "label": "wheat"}}, "Effingham": {"soy": {"y": [49.8, 43.8, 42.0, 45.0, 58.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [157.9, 153.7, 42.9, 172.4, 196.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [61.3, 62.3, 73.1], "x": [2011, 2013, 2014], "label": "wheat"}}, "Warren": {"soy": {"y": [55.2, 58.8, 57.2, 53.6, 57.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [152.9, 177.4, 164.9, 186.9, 216.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [56.9], "x": [2013], "label": "wheat"}}, "Perry": {"soy": {"y": [42.6, 33.8, 22.8, 33.3, 41.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [117.6, 115.6, 23.3, 136.1, 146.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [48.3, 56.7, 55.9, 58.9, 60.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Jackson": {"soy": {"y": [41.6, 34.6, 32.2, 38.7, 46.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [114.9, 118.4, 37.7, 172.7, 169.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [52.4, 52.8, 69.3, 66.4], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Mason": {"soy": {"y": [48.7, 44.3, 36.8, 49.4, 53.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [141.0, 142.7, 110.2, 163.3, 195.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [30.8, 60.6, 49.3, 49.2, 49.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Jefferson": {"soy": {"y": [39.9, 29.0, 26.9, 37.8, 45.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [124.5, 111.8, 153.0, 165.2], "x": [2010, 2011, 2013, 2014], "label": "corn"}, "wheat": {"y": [47.8, 57.1, 63.2], "x": [2010, 2011, 2012], "label": "wheat"}}, "Massac": {"soy": {"y": [33.3, 39.3, 31.3, 49.4, 45.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [126.0, 129.3, 38.6, 170.7, 163.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [68.7, 55.5, 52.3], "x": [2010, 2011, 2014], "label": "wheat"}}, "Putnam": {"soy": {"y": [51.5, 57.5, 52.9, 55.1, 59.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [163.8, 175.6, 187.2, 194.8], "x": [2010, 2011, 2013, 2014], "label": "corn"}}, "Lee": {"soy": {"y": [56.2, 59.6, 52.5, 52.8, 59.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [173.6, 170.9, 142.3, 171.3, 181.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [70.3, 77.8, 73.4], "x": [2010, 2012, 2013], "label": "wheat"}}, "Peoria": {"soy": {"y": [54.8, 58.0, 54.1, 50.0, 57.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [157.6, 168.9, 161.9, 180.5, 208.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [46.1, 63.7, 76.4], "x": [2010, 2012, 2013], "label": "wheat"}}, "Ford": {"soy": {"y": [47.0, 44.1, 41.3, 47.7, 58.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [143.9, 137.3, 63.9, 164.0, 201.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [61.1, 77.6, 86.7], "x": [2010, 2011, 2012], "label": "wheat"}}, "Hamilton": {"soy": {"y": [37.1, 32.9, 28.0, 41.4, 46.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [140.4, 122.8, 31.5, 175.1], "x": [2010, 2011, 2012, 2013], "label": "corn"}, "wheat": {"y": [64.5, 83.9], "x": [2011, 2013], "label": "wheat"}}, "Cook": {"soy": {"y": [50.0], "x": [2010], "label": "soy"}, "corn": {"y": [145.7], "x": [2010], "label": "corn"}}, "Rock Island": {"soy": {"y": [49.9, 59.4, 50.3, 45.7, 55.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [163.9, 176.4, 157.3, 182.3, 185.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [55.0], "x": [2011], "label": "wheat"}}, "McLean": {"soy": {"y": [58.5, 56.0, 52.3], "x": [2010, 2011, 2012], "label": "soy"}, "corn": {"y": [169.5, 109.5], "x": [2010, 2012], "label": "corn"}}, "Johnson": {"soy": {"y": [31.3, 37.0, 32.3, 40.0], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [106.4, 127.3, 58.4, 154.4, 142.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [67.1], "x": [2014], "label": "wheat"}}, "Menard": {"soy": {"y": [54.2, 51.2, 41.1, 60.2], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [145.6, 169.4, 97.4, 222.7], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [60.1], "x": [2010], "label": "wheat"}}, "Woodford": {"soy": {"y": [56.1, 60.5, 46.5, 55.7, 61.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [171.5, 186.5, 102.5, 192.3, 217.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [52.9, 68.7, 68.3, 61.1, 56.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Edgar": {"soy": {"y": [53.9, 53.8, 38.9, 56.6, 61.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [163.3, 154.5, 96.7, 186.4, 201.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.1, 71.1, 63.8, 67.2, 75.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Greene": {"soy": {"y": [54.0, 48.3, 48.8, 48.5, 53.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [161.6, 158.7, 103.4, 167.4, 198.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [45.0, 62.1, 56.7, 62.0], "x": [2010, 2011, 2012, 2013], "label": "wheat"}}, "Clay": {"soy": {"y": [44.2, 31.9, 22.6, 39.9, 48.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [145.9, 121.5, 153.5, 173.1], "x": [2010, 2011, 2013, 2014], "label": "corn"}, "wheat": {"y": [61.9, 61.2], "x": [2012, 2013], "label": "wheat"}}, "Fulton": {"soy": {"y": [49.1, 50.0, 45.8, 50.3, 52.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [136.8, 151.2, 114.5, 171.4, 198.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [58.1], "x": [2011], "label": "wheat"}}, "Macon": {"soy": {"y": [60.4, 46.7, 44.8, 55.3, 67.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [168.5, 153.2, 102.8, 192.7, 236.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [35.1, 61.9], "x": [2010, 2012], "label": "wheat"}}, "Kendall": {"soy": {"y": [51.7, 54.4, 43.5, 50.8], "x": [2010, 2011, 2012, 2013], "label": "soy"}, "corn": {"y": [168.6, 165.3, 102.4, 182.2], "x": [2010, 2011, 2012, 2013], "label": "corn"}, "wheat": {"y": [84.3, 70.8], "x": [2012, 2013], "label": "wheat"}}, "Madison": {"soy": {"y": [50.1, 34.8, 36.4, 42.4, 52.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [166.3, 118.6, 54.8, 164.4, 191.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.9, 59.4, 66.7, 74.5], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Clinton": {"soy": {"y": [49.8, 34.0, 27.5, 39.0, 51.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [162.7, 123.8, 30.2, 162.2, 192.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [57.1, 64.7, 72.5, 66.7], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Clark": {"soy": {"y": [49.4, 44.9, 38.3, 48.0, 57.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [149.1, 138.3, 51.1, 198.1], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [58.4, 59.8, 61.8, 77.5], "x": [2010, 2011, 2012, 2014], "label": "wheat"}}, "Moultrie": {"soy": {"y": [62.8, 48.4, 45.5, 55.8, 63.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [175.1, 156.3, 115.1, 181.1, 223.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [63.4, 54.6, 68.0], "x": [2011, 2012, 2013], "label": "wheat"}}, "Kane": {"soy": {"y": [56.8, 57.5, 46.5, 55.9, 57.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [178.2, 175.2, 140.7, 191.7, 185.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [72.6, 80.0, 70.3], "x": [2010, 2011, 2014], "label": "wheat"}}, "Saline": {"soy": {"y": [39.1, 36.7, 29.9, 46.1, 46.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [133.3, 132.3, 50.0, 171.3, 176.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [55.4, 58.2], "x": [2012, 2014], "label": "wheat"}}, "Boone": {"soy": {"y": [58.1, 59.5, 43.9, 51.5, 57.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [182.5, 180.1, 121.4, 179.9, 191.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [74.5, 81.1, 93.7, 69.5, 74.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Stark": {"soy": {"y": [58.2, 59.5, 51.0, 56.1, 57.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [165.9, 181.2, 148.4, 192.4, 207.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}}, "McHenry": {"soy": {"y": [56.5, 50.6, 42.2, 56.0], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [171.4, 124.4], "x": [2010, 2012], "label": "corn"}}, "Lawrence": {"soy": {"y": [44.7, 44.7, 34.6, 41.0, 45.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [156.9, 142.0, 37.1, 177.4], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [53.9, 55.1, 52.6, 68.3, 66.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Fayette": {"soy": {"y": [49.7, 40.9, 35.6, 43.4, 49.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [159.3, 137.9, 29.3, 161.8, 180.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}}, "Sangamon": {"soy": {"y": [60.4, 56.1, 49.5, 55.8, 63.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [154.5, 165.7, 131.3, 198.2, 226.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [78.4, 62.2, 75.0], "x": [2012, 2013, 2014], "label": "wheat"}}, "Alexander": {"soy": {"y": [39.8, 35.1], "x": [2010, 2011], "label": "soy"}, "corn": {"y": [142.8, 109.2, 192.8], "x": [2010, 2011, 2014], "label": "corn"}, "wheat": {"y": [42.2, 48.5, 52.6, 62.3, 45.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Pike": {"soy": {"y": [52.9, 44.5, 44.4, 44.4, 50.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [137.5, 150.7, 90.5, 164.3, 199.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [57.7, 65.6, 62.3, 68.6], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Adams": {"soy": {"y": [48.7, 41.4, 40.7, 42.7, 50.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [121.9, 135.8, 76.0, 153.3, 202.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [42.1], "x": [2013], "label": "wheat"}}, "Kankakee": {"soy": {"y": [45.1, 48.1, 43.8, 46.1, 53.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [149.6, 153.3, 119.2, 172.1, 174.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [81.2, 69.3, 69.7], "x": [2010, 2012, 2013], "label": "wheat"}}, "Calhoun": {"soy": {"y": [50.3, 43.6, 41.4, 47.4], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [156.6, 144.3, 93.8, 198.2], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [53.5, 63.8], "x": [2010, 2011], "label": "wheat"}}, "Livingston": {"soy": {"y": [51.1, 51.7, 41.2, 55.2, 58.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [166.6, 155.8, 83.3, 179.1, 211.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [60.3, 76.8, 69.6], "x": [2010, 2011, 2014], "label": "wheat"}}, "Franklin": {"soy": {"y": [36.6, 31.8, 27.9, 40.6, 44.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [111.4, 116.3, 30.1, 164.3, 160.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [52.5, 58.9, 59.9, 75.8, 67.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Pope": {"soy": {"y": [27.1], "x": [2010], "label": "soy"}, "corn": {"y": [95.8, 47.6, 160.1], "x": [2010, 2012, 2014], "label": "corn"}}, "Marshall": {"soy": {"y": [53.2, 55.9, 45.0, 53.0, 60.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [163.3, 178.4, 123.9, 191.2, 207.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [57.7, 69.9, 66.7, 57.5, 74.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Carroll": {"soy": {"y": [58.9, 63.7, 59.0, 56.8, 60.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [189.8, 183.3, 157.9, 199.6, 196.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [81.5, 81.5, 97.1, 82.2, 70.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Schuyler": {"soy": {"y": [48.6, 45.1, 37.0, 48.8, 52.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [129.7, 144.6, 75.9, 169.0, 204.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [50.6, 51.9, 53.4, 59.4], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Grundy": {"soy": {"y": [47.4, 49.8, 43.9, 56.4, 58.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [159.2, 155.6, 101.1, 192.2, 205.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [59.5], "x": [2014], "label": "wheat"}}, "Mercer": {"soy": {"y": [52.9, 52.9, 56.1, 47.3, 57.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [142.4, 161.9, 180.1, 177.1, 193.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [64.2, 78.3, 58.3], "x": [2011, 2012, 2013], "label": "wheat"}}, "Gallatin": {"soy": {"y": [40.4, 42.0, 35.7, 47.1, 49.9], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [141.5, 144.5, 76.7, 188.7, 187.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [62.3, 68.1, 68.1, 84.0, 75.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Cumberland": {"soy": {"y": [49.9, 45.6, 43.3, 48.9, 55.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [146.7, 146.9, 34.3, 171.6, 196.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [58.3, 73.2, 56.8, 67.3], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "De Kalb": {"soy": {"y": [57.3, 60.4, 51.5, 58.4, 60.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [180.4, 183.8, 159.3, 193.8, 194.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [78.8, 93.5, 88.5, 70.2, 76.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Edwards": {"soy": {"y": [45.2, 43.5, 36.0, 42.8, 53.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [146.5, 138.0, 40.0, 154.2], "x": [2010, 2011, 2012, 2013], "label": "corn"}, "wheat": {"y": [58.1, 61.6, 70.0], "x": [2011, 2012, 2013], "label": "wheat"}}, "Lake": {"soy": {"y": [49.7, 40.0, 45.0], "x": [2010, 2012, 2014], "label": "soy"}, "corn": {"y": [138.1, 153.7, 151.2], "x": [2010, 2013, 2014], "label": "corn"}, "wheat": {"y": [62.5, 61.7, 66.6, 53.3], "x": [2010, 2011, 2012, 2013], "label": "wheat"}}, "Douglas": {"soy": {"y": [57.4, 50.2, 45.5, 51.0, 65.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [172.8, 153.6, 99.4, 187.1, 224.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [72.9, 82.0, 71.7, 68.6], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Pulaski": {"soy": {"y": [39.1, 40.4, 37.0, 44.2, 46.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [136.5, 137.9, 64.4, 169.9, 177.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [57.5, 57.6, 68.2, 63.8], "x": [2010, 2012, 2013, 2014], "label": "wheat"}}, "Crawford": {"soy": {"y": [45.5, 42.2, 30.2, 46.6, 50.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [143.2, 144.4, 34.7, 154.1, 184.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [60.4, 54.6, 65.5, 65.8, 64.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Williamson": {"soy": {"y": [34.8, 31.9, 29.5, 42.6, 42.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [124.6, 125.0, 33.7, 173.5, 161.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [49.7, 71.4, 59.5, 46.8], "x": [2010, 2011, 2012, 2014], "label": "wheat"}}, "Christian": {"soy": {"y": [60.5, 52.4, 55.8, 55.6, 58.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [157.0, 154.8, 129.2, 199.8, 217.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [47.7, 63.9, 60.9, 67.6], "x": [2010, 2011, 2012, 2014], "label": "wheat"}}, "Winnebago": {"soy": {"y": [54.8, 52.5, 39.4, 51.6, 52.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [172.5, 162.2, 99.6, 173.2, 190.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [75.8, 74.8, 70.0, 68.3], "x": [2010, 2011, 2013, 2014], "label": "wheat"}}, "Piatt": {"soy": {"y": [63.3, 53.0, 51.4, 57.1, 69.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [164.5, 157.1, 130.8, 187.4, 235.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}}, "Macoupin": {"soy": {"y": [55.3, 40.2, 46.0, 48.2, 58.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [146.9, 131.1, 85.7, 170.5, 199.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [58.2, 52.1, 54.2, 67.5], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "St. Clair": {"soy": {"y": [50.0, 35.8, 31.5, 39.0, 49.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [155.0, 128.8, 58.6, 158.5, 173.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [55.9, 60.3, 57.6, 64.4, 69.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Knox": {"soy": {"y": [58.7, 61.9, 55.9, 55.5, 57.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [159.9, 169.5, 160.8, 191.0, 201.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [50.4, 62.1, 70.7, 63.4, 63.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Stephenson": {"soy": {"y": [56.1, 60.3, 43.2, 54.6, 57.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [180.8, 181.6, 102.8, 182.0, 192.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [75.9, 77.8, 84.7, 78.9, 73.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Hardin": {"soy": {"y": [21.0, 36.1, 33.0], "x": [2010, 2011, 2012], "label": "soy"}, "corn": {"y": [55.7], "x": [2012], "label": "corn"}}, "Whiteside": {"soy": {"y": [51.9, 54.6, 52.8, 49.5, 58.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [164.4, 162.6, 139.8, 179.8, 184.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [61.3, 64.7], "x": [2011, 2013], "label": "wheat"}}, "Will": {"soy": {"y": [47.0, 51.1, 43.8, 45.8, 56.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [158.3, 162.5, 126.0, 149.1, 178.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [73.7, 73.5], "x": [2010, 2014], "label": "wheat"}}, "Morgan": {"soy": {"y": [54.1, 50.6, 46.4, 55.0, 59.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [146.5, 157.2, 112.4, 191.2, 223.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [41.3, 62.1, 63.3, 60.1, 76.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Cass": {"soy": {"y": [53.3, 50.4, 39.5, 51.5, 53.5], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [148.6, 164.3, 113.2, 184.1, 208.3], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [39.9, 50.8], "x": [2010, 2011], "label": "wheat"}}, "Iroquois": {"soy": {"y": [46.1, 45.0, 44.7, 48.3, 57.1], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [144.7, 155.1, 105.7, 174.4, 186.2], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [62.8, 72.1, 69.6, 78.0, 74.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Bond": {"soy": {"y": [49.9, 35.8, 31.0, 50.2], "x": [2010, 2011, 2012, 2014], "label": "soy"}, "corn": {"y": [152.6, 124.2, 33.3, 182.1], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [56.3, 68.0], "x": [2011, 2014], "label": "wheat"}}, "Vermilion": {"soy": {"y": [55.2, 44.9, 46.6, 53.1, 62.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [166.3, 148.1, 100.1, 176.9, 204.0], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [74.1, 66.3, 83.1, 65.0, 75.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Logan": {"soy": {"y": [57.6, 55.2, 47.3, 56.4, 63.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [155.7, 173.4, 96.5, 198.1, 230.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [66.6], "x": [2012], "label": "wheat"}}, "Scott": {"soy": {"y": [52.3, 44.4, 43.5, 52.2, 54.6], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [139.5, 145.4, 117.3, 168.2, 201.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [58.5, 71.6, 62.0, 76.9], "x": [2011, 2012, 2013, 2014], "label": "wheat"}}, "Randolph": {"soy": {"y": [43.2, 35.6, 34.3, 38.6, 45.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [130.3, 111.2, 45.5, 181.4], "x": [2010, 2011, 2012, 2014], "label": "corn"}, "wheat": {"y": [55.6, 59.5, 60.0, 66.3, 74.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}, "Monroe": {"soy": {"y": [45.1, 34.1, 39.5, 32.8, 46.8], "x": [2010, 2011, 2012, 2013, 2014], "label": "soy"}, "corn": {"y": [143.6, 117.4, 69.6, 147.0, 181.4], "x": [2010, 2011, 2012, 2013, 2014], "label": "corn"}, "wheat": {"y": [50.0, 57.8, 50.5, 63.9, 73.7], "x": [2010, 2011, 2012, 2013, 2014], "label": "wheat"}}}';
var bigdata = JSON.parse(BigData);
// county needs to be specified
var county = 'Champaign'
var original_data = bigdata[county]
var data = [];
if ('corn' in original_data){
    data.push(original_data['corn']);
}
if ('wheat' in original_data){
    data.push(original_data['wheat']);
}
if ('soy' in original_data){
    data.push(original_data['soy']);
}
var xy_chart = d3_xy_chart()
    .width(960)
    .height(500)
    .xlabel("Time")
    .ylabel("Production/acre") ;
var svg = d3.select("body").append("svg")
    .datum(data)
    .call(xy_chart) ;

function d3_xy_chart() {
    var width = 640,  
        height = 480, 
        xlabel = "X Axis Label",
        ylabel = "Y Axis Label" ;
    
    function chart(selection) {
        selection.each(function(datasets) {
            //
            // Create the plot. 
            //
            var margin = {top: 20, right: 80, bottom: 30, left: 50}, 
                innerwidth = width - margin.left - margin.right,
                innerheight = height - margin.top - margin.bottom ;
            
            var x_scale = d3.scale.linear()
                .range([0, innerwidth])
                .domain([ d3.min(datasets, function(d) { return d3.min(d.x); }), 
                          d3.max(datasets, function(d) { return d3.max(d.x); }) ]) ;
            
            var y_scale = d3.scale.linear()
                .range([innerheight, 0])
                .domain([ d3.min(datasets, function(d) { return d3.min(d.y); }),
                          d3.max(datasets, function(d) { return d3.max(d.y); }) ]) ;

            var color_scale = d3.scale.category10()
                .domain(d3.range(datasets.length)) ;

            var x_axis = d3.svg.axis()
                .scale(x_scale)
                .orient("bottom") ;

            var y_axis = d3.svg.axis()
                .scale(y_scale)
                .orient("left") ;

            var x_grid = d3.svg.axis()
                .scale(x_scale)
                .orient("bottom")
                .tickSize(-innerheight)
                .tickFormat("") ;

            var y_grid = d3.svg.axis()
                .scale(y_scale)
                .orient("left") 
                .tickSize(-innerwidth)
                .tickFormat("") ;

            var draw_line = d3.svg.line()
                .interpolate("basis")
                .x(function(d) { return x_scale(d[0]); })
                .y(function(d) { return y_scale(d[1]); }) ;

            var svg = d3.select(this)
                .attr("width", width)
                .attr("height", height)
                .append("g")
                .attr("transform", "translate(" + margin.left + "," + margin.top + ")") ;
            
            svg.append("g")
                .attr("class", "x grid")
                .attr("transform", "translate(0," + innerheight + ")")
                .call(x_grid) ;

            svg.append("g")
                .attr("class", "y grid")
                .call(y_grid) ;

            svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + innerheight + ")") 
                .call(x_axis)
                .append("text")
                .attr("dy", "-.71em")
                .attr("x", innerwidth)
                .style("text-anchor", "end")
                .text(xlabel) ;
            
            svg.append("g")
                .attr("class", "y axis")
                .call(y_axis)
                .append("text")
                .attr("transform", "rotate(-90)")
                .attr("y", 6)
                .attr("dy", "0.71em")
                .style("text-anchor", "end")
                .text(ylabel) ;

            var data_lines = svg.selectAll(".d3_xy_chart_line")
                .data(datasets.map(function(d) {return d3.zip(d.x, d.y);}))
                .enter().append("g")
                .attr("class", "d3_xy_chart_line") ;
            
            data_lines.append("path")
                .attr("class", "line")
                .attr("d", function(d) {return draw_line(d); })
                .attr("stroke", function(_, i) {return color_scale(i);}) ;
            
            data_lines.append("text")
                .datum(function(d, i) { return {name: datasets[i].label, final: d[d.length-1]}; }) 
                .attr("transform", function(d) { 
                    return ( "translate(" + x_scale(d.final[0]) + "," + 
                             y_scale(d.final[1]) + ")" ) ; })
                .attr("x", 3)
                .attr("dy", ".35em")
                .attr("fill", function(_, i) { return color_scale(i); })
                .text(function(d) { return d.name; }) ;

        }) ;
    }

    chart.width = function(value) {
        if (!arguments.length) return width;
        width = value;
        return chart;
    };

    chart.height = function(value) {
        if (!arguments.length) return height;
        height = value;
        return chart;
    };

    chart.xlabel = function(value) {
        if(!arguments.length) return xlabel ;
        xlabel = value ;
        return chart ;
    } ;

    chart.ylabel = function(value) {
        if(!arguments.length) return ylabel ;
        ylabel = value ;
        return chart ;
    } ;

    return chart;
}

</script>